{Horizontal Scaling :
        +TÄƒng kháº£ nÄƒng chá»‹u táº£i tá»‘t hÆ¡n 
        +Nhiá»u server cÃ¹ng xá»­ lÃ½ request â†’ khÃ´ng bá»‹ quÃ¡ táº£i trÃªn 1 mÃ¡y.
        +Dá»… dÃ ng má»Ÿ rá»™ng theo nhu cáº§u Cloud (AWS, GCP, Azure) cho phÃ©p thÃªm instance má»›i trong vÃ i giÃ¢y.
        +Äá»™ tin cáº­y cao (high availability)
        +Náº¿u 1 server cháº¿t, cÃ¡c server khÃ¡c váº«n cháº¡y â†’ há»‡ thá»‘ng khÃ´ng downtime.
        +Chi phÃ­ linh hoáº¡t
        +CÃ³ thá»ƒ scale lÃªn/down theo mÃ¹a vá»¥ hoáº·c sá»‘ user mÃ  khÃ´ng cáº§n nÃ¢ng cáº¥u hÃ¬nh Ä‘áº¯t tiá»n.

NhÆ°á»£c Ä‘iá»ƒm:
+Cáº§n load balancer
+PhÃ¢n phá»‘i request Ä‘á»u giá»¯a cÃ¡c instance.
+Quáº£n lÃ½ phá»©c táº¡p hÆ¡n
+Session, cache, database, file storage pháº£i Ä‘á»“ng bá»™ nhiá»u mÃ¡y.
+Latency / network overhead
+Dá»¯ liá»‡u pháº£i sync qua máº¡ng â†’ cÃ³ thá»ƒ cháº­m hÆ¡n so vá»›i 1 mÃ¡y máº¡nh. }

0 nÃªn Ä‘Ã³ng káº¿t ná»‘i liÃªn tá»¥c Ä‘á»‘i vá»›i mongo
trong ngá»¯ cáº£nh cá»§a mongoC nhÃ³m káº¿t ná»‘i lÃ  táº­p há»£p cÃ¡c káº¿t ná»‘i cá»§a csdl cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng Ä‘c duy trÃ¬ á»Ÿ db khÃ´ng chá»‰ má»—i mongo mÃ  oracle,mysql Ä‘á»u cÃ³, 
vi dá»¥ khi á»©ng dá»¥ng gá»­i request connect tá»›i csdl thÃ¬ mongoC kiá»ƒm tra nhÃ³m káº¿t ná»‘i cÃ³ nhÃ³m káº¿t ná»‘i nÃ o 0 náº¿u cÃ³ thÃ¬ tÃ¡i sá»­ dá»¥ng náº¿u 0 thÃ¬ táº¡o káº¿t ná»‘i má»›i thÃªm vÃ o nhÃ³m 
tac dá»¥ng cá»§a polSize cÃ³ thá»ƒ cáº£i thiá»‡n hiá»‡u xuáº¥t vÃ  kháº£ nÄƒng má»Ÿ rÃ´ng á»©ng dá»¥ng thay = dáº¡ng chi phÃ­ create Db vÃ  Ä‘Ã³ng káº¿t ná»‘i csdl
 

accessToken cÃ´ng dá»¥ng Ä‘á»ƒ gá»i APi dÃ¹ng trÃªn má»—i request thá»i gian ngáº¯n lÆ°u á»Ÿ localStore
Access Token

LÃ  mÃ£ xÃ¡c thá»±c chÃ­nh mÃ  client (browser/mobile) gá»­i lÃªn server má»—i khi gá»i API.

Thá»i gian sá»‘ng ngáº¯n (expires: '2 days' trong code cá»§a báº¡n).

Chá»©a thÃ´ng tin user (ID, role, emailâ€¦) Ä‘Ã£ Ä‘Æ°á»£c kÃ½ báº±ng privateKey.

Server sá»­ dá»¥ng publicKey Ä‘á»ƒ verify chá»¯ kÃ½ â†’ biáº¿t token nÃ y cÃ³ há»£p lá»‡ hay khÃ´ng.


refreshToken cÃ´ng dá»¥ng cÃ¢p accessToken má»›i dÃ¹ng khi accessToken háº¿t háº¡n lÆ°u á»Ÿ DB

2. Refresh Token

LÃ  token dÃ¹ng Ä‘á»ƒ xin cáº¥p accessToken má»›i.

Thá»i gian sá»‘ng dÃ i hÆ¡n (7 days trong code cá»§a báº¡n).

KhÃ´ng dÃ¹ng Ä‘á»ƒ gá»i API (trá»« API /refresh-token).

ThÆ°á»ng Ä‘Æ°á»£c lÆ°u trong:

Database (Ä‘á»ƒ cÃ³ thá»ƒ revoke),

hoáº·c HttpOnly cookie (an toÃ n hÆ¡n).

ğŸ”¥ Táº¡i sao cáº§n Refresh Token?

VÃ¬ accessToken sá»‘ng ngáº¯n â†’ user sáº½ bá»‹ logout liÃªn tá»¥c náº¿u khÃ´ng cÃ³ refreshToken.
Khi accessToken háº¿t háº¡n, client gá»­i refreshToken lÃªn server:
Server kiá»ƒm tra refreshToken há»£p lá»‡ khÃ´ng.
Náº¿u há»£p lá»‡ â†’ táº¡o token pair má»›i vÃ  tráº£ láº¡i client.
â†’ Äiá»u nÃ y giÃºp giá»¯


npx tree-cli

npm run start
//cáº§n viáº¿t thÃªm hÃ m veryfy sá»­ dá»¥ng public token thÆ°á»ng dÃ¹ngâ€œSecret key dÃ¹ng Ä‘á»ƒ verify vÃ  sign. Náº¿u ngÆ°á»i khÃ¡c láº¥y Ä‘Æ°á»£c secret key thÃ¬ há» cÃ³ thá»ƒ tá»± kÃ½ (táº¡o signature) giáº£ máº¡o giá»‘ng cá»§a báº¡n.â€